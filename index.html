<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Attendance / Totals</title>
  <style>
    :root{--accent:#2b6cb0;--muted:#666}
    body{font-family:Inter,ui-sans-serif,system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; margin:20px; background:#f7fafc; color:#0f172a}
    .container{max-width:1200px;margin:0 auto;background:#fff;padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(2,6,23,0.06)}
    h1{font-size:20px;margin:0 0 12px}
    p.lead{margin:0 0 18px;color:var(--muted)}
    .controls{display:flex;gap:12px;align-items:center;margin-bottom:12px}
    .controls label{font-size:13px;color:var(--muted)}
    table{width:100%;border-collapse:collapse;font-size:13px}
    thead th{position:sticky;top:0;background:#ffffff;padding:10px 8px;border-bottom:2px solid #e6edf3;text-align:left}
    tbody td{padding:8px;border-bottom:1px solid #f1f5f9}
    tbody tr.weekend{background:linear-gradient(90deg, rgba(255,245,235,0.8), rgba(255,250,240,0.6));}
    tbody tr:hover{background:#f1f5f9}
    .currency{white-space:nowrap}
    .right{text-align:right}
    .small{font-size:12px;color:var(--muted)}
    @media (max-width:900px){
      .grid{display:block}
      table{font-size:12px}
      thead th:nth-child(n+5), tbody td:nth-child(n+5){display:none}
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Attendance & Totals</h1>
    <p class="lead">Table generated from your data. Weekend rows are highlighted automatically. Use the checkbox to toggle highlighting.</p>

    <div class="controls">
      <label><input type="checkbox" id="toggleWeekends" checked> Highlight weekends</label>
      <div style="flex:1"></div>
      <div class="small">Date format: dd/mm/yyyy</div>
    </div>

    <div style="overflow:auto">
      <table id="dataTable">
        <thead>
          <tr>
            <th>Total</th>
            <th>Day</th>
            <th>Fecha</th>
            <th>PABLO</th>
            <th>LILI</th>
            <th>JUGNIA</th>
            <th>LEO</th>
            <th>INDIA</th>
            <th>CHUFI</th>
            <th>CUSCO</th>
            <th>KIMCHI</th>
            <th>NINA</th>
            <th>CARMELA</th>
            <th>LUPE</th>
            <th>CUATRI</th>
            <th>TB</th>
            <th>NEO</th>
            <th>BRISO</th>
            <th>ZOZI</th>
            <th>R&H</th>
          </tr>
        </thead>
        <tbody>
          <!-- Rows inserted by script -->
        </tbody>
      </table>
    </div>
  </div>

  <script>
    const rows = [
      ["50.00 €","Saturday","29/11/2025","25.00","25.00","","","","","","","","","","","","","","",""],
      ["76.30 €","Friday","28/11/2025","","","","","","","76.30","","","","","","","","","",""],
      ["54.35 €","Thursday","27/11/2025","30.00","","","12.35","12.00","","","","","","","","","","","",""],
      ["78.40 €","Wednesday","26/11/2025","30.00","","24.20","","","","","","","","","","","","","","24.20"],
      ["145.75 €","Tuesday","25/11/2025","30.00","","","","","","25.00","","90.75","","","","","","","",""],
      ["237.00 €","Monday","24/11/2025","","","","12.00","","","","","","","112.50","112.50","","","","",""],
      ["56.00 €","Sunday","23/11/2025","","","","","","","","","","","","","35.00","21.00","","",""],
      ["71.00 €","Saturday","22/11/2025","25.00","25.00","","","","","","","","","","","","21.00","","",""],
      ["50.00 €","Friday","21/11/2025","25.00","25.00","","","","","","","","","","","","","","",""],
      ["0.00 €","Thursday","20/11/2025","","","","","","","","","","","","","","","","",""],
      ["85.00 €","Wednesday","19/11/2025","25.00","25.00","","","","","","","","","","","","15.00","20.00","",""],
      ["0.00 €","Tuesday","18/11/2025","","","","","","","","","","","","","","","","",""],
    ];

    const tbody = document.querySelector('#dataTable tbody');

    function parseDMY(s){
      // expects dd/mm/yyyy
      const parts = String(s).trim().split('/');
      if(parts.length!==3) return null;
      const d = parseInt(parts[0],10);
      const m = parseInt(parts[1],10)-1;
      const y = parseInt(parts[2],10);
      if(isNaN(d)||isNaN(m)||isNaN(y)) return null;
      return new Date(y,m,d);
    }

    function buildTable(){
      tbody.innerHTML='';
      rows.forEach(r=>{
        const tr = document.createElement('tr');
        const dateStr = r[2];
        const dateObj = parseDMY(dateStr);
        const isWeekend = dateObj ? (dateObj.getDay()===0 || dateObj.getDay()===6) : false;
        if(isWeekend) tr.classList.add('weekend');

        r.forEach((cell,i)=>{
          const td = document.createElement('td');
          td.textContent = cell || '';
          if(i===0) td.classList.add('currency');
          if(i<=2) td.style.fontWeight='600';
          if(i>2) td.classList.add('right');
          tr.appendChild(td);
        });

        tbody.appendChild(tr);
      });
    }

    document.getElementById('toggleWeekends').addEventListener('change', (e)=>{
      const on = e.target.checked;
      document.querySelectorAll('#dataTable tbody tr').forEach(tr=>{
        if(tr.classList.contains('weekend')) tr.style.background = on ? '' : 'transparent';
      });
    });

    buildTable();
  </script>
</body>
</html>
